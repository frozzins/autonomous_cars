\documentclass[11pt]{article} 

%\usepackage[english]{babel}
%\usepackage[utf8]{inputenc}
%\usepackage{amsmath}
%\usepackage{csquotes}% Recommended



%\usepackage{fontspec}
%\setmainfont{Arial}

%\usepackage{geometry} % Required to change the page size to A4
%\geometry{a4paper} % Set the page size to be A4 as opposed to the default US Letter

\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template

\linespread{1.5} % Line spacing



%\setlength\parindent{0pt} % Uncomment to remove all indentation from paragraphs

%\graphicspath{{Pictures/}} % Specifies the directory where pictures are stored

%\DeclareGraphicsExtensions{.pdf,.png,.jpg}

%\graphicspath{{"d:/University of Bristol/Papers/"}{"images/"}}

%\usepackage[style=authoryear-ibid,backend=biber]{biblatex}

%\addbibresource{dissertation_citation_database}% Syntax for version >= 1.2

%\addbibresource{sample.bib}% Syntax for version >= 1.2

\usepackage{natbib}
\bibliographystyle{agsm}



\usepackage{graphicx} % Required for including pictures
\usepackage{epstopdf}
\usepackage{float} % Allows putting an [H] in \begin{figure} to specify the exact location of the figure
\usepackage{wrapfig} % Allows in-line images such as the example fish picture



%\usepackage[authoryear]{natbib}%\usepackage{natbib}
%\bibliographystyle{authordate1}
%\bibliographystyle{unsrtnat}%\bibliographystyle{unsrtna
%\bibliographystyle{unsrt} % vancouver   unsrt   agsm  unsrt
%\usepackage[style=authoryear]{biblatex}

%\usepackage{url}parkin2016understanding

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\center % Center everything on the page

\textsc{\LARGE University...}\\[1.5cm] % Name of your university/college
\textsc{\Large Dissertation...}\\[0.5cm] % Major heading such as course name
\textsc{\large Dissertation...}\\[0.5cm] % Minor heading such as course title

\HRule \\[0.4cm]
{ \huge \bfseries Title...}\\[0.4cm] % Title of your document
\HRule \\[1.5cm]

\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Author:}\\
Aleksander \textsc{Wilusz} % Your name
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Supervisor:} \\
Eddie \textsc{Wilson} % Supervisor's Name
\end{flushright}
\end{minipage}\\[4cm]



{\large \today}\\[3cm] % Date, change the \today to a set date if you want to be precise

%\includegraphics{logouni}\\[1cm] % Include a department/university logo - this will require the graphicx package

\vfill % Fill the rest of the page with whitespace

\end{titlepage}

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%----------------------------------------------------------------------------------------

\tableofcontents % Include a table of contents

\newpage % Begins the essay on a new page instead of on the same page as the table of contents 

%----------------------------------------------------------------------------------------
%	INTRODUCTION
%----------------------------------------------------------------------------------------


\section{Introduction} % Major section
\paragraph{}
Autonomous cars are currently a topic of great interest. Around the world the biggest private companies or government’s initiatives are developing self-driving vehicles (uber, google, britol car citations), competing for new emerging market. Each company focuses efforts in different direction. The companies are either trying to develope an all-round car that could perform in both city and on highways or restrict the usage to particular types of roads (tesla). Or anyhing in between. The most significant commercial initiatives include Google driverless car, Tesla, Uber (). Goverment founded initiatives include Venturer and ...


\paragraph{•}
Background of the problem, context of the research, reasons why the study was carried out, significance of the study



Many experts around the world are trying to predict how autonomous cars will influence our lives. One of the questions is how the traffic itself will change. Most of the experts agree that in the next decades we will observe gradual process of increasing the share of autonomous cars on our roads. In that time human-driven cars and self driving cars will have to successfully interact with each other. According to predictions the fully automated traffic will become reality only around year 2060 or year 2040 in more optimistic predictions and first commercial autonomous cars are already appearing on the roads (singapore, uber). Although there are numerous studies on many aspect of autonomous driving as well as on interactions between regular cars in all-human-traffic there is little research on interactions between these two types of vehicles and all it’s consequences.

\paragraph{•}
A statement of the problem to be addressed

reflect on original Eddie's idea


The focus of this research is to investigate how autonomous cars will influence traffic itself and how human and autonomous cars will interact with each other.




\paragraph{•}
clear and succinct statement of research questions, aims and objectives.


The main aim of the research was trying to predict what will happen when autonomous cars are introduced to the traffic. Results obtained were analysed from the point of view to traffic parameters such as velocities, densities, congestion and from the point of view how individual drivers reacted differently when autonomous vehicle was encountered.

The main objective of the project was to create a an on-line traffic simulation that would allow to connect multiple people together at the same time. People were asked to drive a car 

\paragraph{How scope was reduced}

The original scope of the project included also in-silico implementation that would be using remotely controlled "slot-cars". It was believed that that physical model would have features that could not be accounted for or predicted in computer simulation. It was estimated for around 50\% of implementation effort. However, the final version of the project the physical model was not implemented. After the project went into development the advantages of creating a physical model appeared less and less attractive. Especially compared to the cost of implementation. Original idea assumed using digital slot-car set with cars and track, as well as computer vision to track vehicles on the track and live video streaming to multiple computers. After more careful consideration the benefits of implementing above described would be very minor or none. In addition to this, implementing the computer simulation consumed more time that estimated. 

It has to be admitted that scope was drastically limited in terms of implementation effort. It did not, however, have much impact on the quality of the research and conclusions. One would even venture to say that project should only consist of computer simulation even if more time and resources were allowed for project execution. 

\paragraph{A road map of what is going to be discussed}

The project consisted of three main parts. First one was software development. This accounted for around 50\% of all efforts. The chapter on Research Methodology is mostly dedicated to this. Software section is divided into most significant components that include the design of simulation master, design of client's interface and vehicle's control. The chapter on research methodology also describes how communication between machines was established and the algorithm behind autonomous vehicles. Although these two aspects were integral parts of the software it was decided to write about them separately. It is due to the significance and universality of communication solution and autonomous car algorithm. 
Most of decisions made throughout the development stage were aimed for successful experiment execution. The design of the experiment and how it was eventually conducted are described at the of Research Methodology chapter. 


The Research Methodology chapter is preceded with in-depth chapter describing literature relevant to the project. 

The data obtained during the experiment was described in Findings and Results chapter. This chapter also talks about different ways in which data was analysed. 

The last two closing chapters discuss the results of the experiment, attempt to draw conclusions and generalize findings in wider context. 





\section{Literature review}

There is plenty of literature dedicated to autonomous cars. 


\subsection{Current and future development of autonomous cars}

The prime examples of the most recent achievements in the field of autonomous cars are visible through cutting-edge commercial projects such as google self driving car, uber's and <shanghai something>. Google is probably the most experienced player as it's self driving car project started already in the year 2009 (google self driving car website).
Google's car is classified as level 3 in automated vehicle classification system proposed by NHTSA in 2013 (http://www.nhtsa.gov/About+NHTSA/Press+Releases/U.S.+Department+of+Transportation+Releases+Policy+on+Automated+Vehicle+Development), which is described as "Limited Self-Driving Automation". The car takes full control over all safety-critical functions but at certain times driver can be asked to retake control. 

List of trials on autonomous vehicles is here:
\citep{parkin2016understanding}
googel, volvo, audi, singapore, and add uber


More and more commercially available vehicles feature level 2 of autonomy and are capable of emergency braking, lane control or adaptive cruise control. Even more advanced cars, like Tesla S are able to actively change lanes on a motorway when instructed by driver(link to tesla's manual).


Vehicle classified at level 4 would have to 


Uber is a relatively new player in the business of autonomous cars. 



Write about audi autonomous racing car


In the near future we should be able to see more and more autonomous vehicles on the roads.
The report released by UK Department of Transport titled "The Pathway to Driverless Cars Summary report and action plan" \citep{pathwaytodriverless} states that government recognises the benefits of autonomous vehicles and is undertaking actions to aid the development of technologies and law that would allow to bring driverless cars on public roads. 


\subsection{Implications of autonomous cars revolution}

Experts around the world argue about the consequences of introducing self-driving cars. The report by UK Department of Transport "The Pathway to Driverless Cars" summarizes some main benefits of heaving autonomous cars. Most important points include significant reduction of time spent in vehicles and largely improved safety. It is stayed that an average driver could save up to 6 working weeks of driving time in a single year. A claim on potential safety improvements is backed by existing evidence from automated vehicles that are already commercially available and feature level 2 autonomy. Another important benefits include reduced emission and reduced congestion. Vehicles that are connected into one system would be able to drive in the interest of all traffic participants and therefore greatly optimize traffic. 
A consequence of traffic optimization and overall reduction of Total Kilometers Traveled would be major cost reduction and the result could be increased access to vehicles for everyone\citep{pathwaytodriverless}.


On the other hand, it is argued that autonomous vehicles will not be as robust as expected and traffic parameters will, in fact, worsen\citep{sivak2015road}.

There are also many other indirect implications. As stated in \citep{litman2014autonomous} an example will be a family that decides to settle further from the city because they can spend time in the car productively rather than controlling the vehicle. In consequence the benefits of faster and more optimized travel will be counteracted by overall increase in road demand. Consecutively the traffic parameters may not improve as expected.




Rely heavily on:
\citep{litman2014autonomous}

adittionally:





\subsection{Maximum Capacity Theorem}
Traffic has an ability to self organize close to its capacity. This rule called Fundamental Law of Traffic Congestion or Maximum Capacity Theorem states that when stock of available roads rises, the overall driving increases too \citep{duranton2011fundamental}. The theory behind it explains why building new roads or adding new lanes does not necessary yield proportional decrease in congestion.

Duranton and Turner identified four major sources of additional traffic such as increased commercial traffic, alteration to individual driving behaviour, population growth and diversion from other roads. Raised availability of roads cause an increase in Vehicle Kilometres Travelled(VKT) by commercial vehicles as well as private commuters. Choosing a car as a mean of transport will appear as a more attractive option. 


This theorem could be put in the context of autonomous vehicles. As mentioned before, introducing autonomous cars to the traffic should result in reduced congestion as travelling would be more optimized. However, according to the Fundamental Law of Traffic Congestion, less traffic on the roads can encourage people to travel more. Consequently this will rise overall road demand and the traffic will reach it's new capacity.


\subsection{Conflicts, collisions and interactions on the road}


\citep{parkin2016understanding}

According to (Contributory factors of reported accidents, Great Britain excel) most accidents are caused by human failure. The main contributory factors are failure to look properly, failure to judge other's person speed or path and driver, carelessness, recklessness or being in a hurry.



(writing about it in the context that autonomous cars can potentially improve these things) 


Although the study on conflicts on the road is very complex and hard to quantify according to \citep{risser1985behavior} there are numerous factors that contribute to creating conflicts. These factors include excessive speed or poorly adopted speed, too small distance to proceeding car, violations of the right-of-way and many other types of behaviour. 


More about interactions in general...


\subsection{How people will cooperate with autonomous cars}
In the next decades driverless cars will be required to succesfully cooperate with human drivers. Even when all cars become autonomous , pedestrians, cyclists and other traffic participants must still be able to move around. 
Human driver have certain expectations from other drivers. Things like eye-contact are often important for succesful communication. That kind of interaction will be absent in encounters with autonomous vehicles. Moreover, drivers often posses skills and experience that may not be easy to quantify and program into machine. Therefore driverless cars can, in fact, perform worse in certain situations\citep{sivak2015road}. During transition period the amount of accident can in fact increase.

As mentioned in %https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/401562/pathway-driverless-cars-summary.pdf 
introducing autonomous cars should result in smaller number of accidents. A machine would be free from factors mentioned in previous chapter. 






\subsection{Measuring traffic parameters}

In order to evaluate traffic performance four key parameters will be measured as suggested in a paper by Beymer and McLauchlan \citep{beymer1997real}. 

\begin{itemize}
  \item Flow - Amount of vehicles in one hour (will be separately evaluated for different parts of the track)
  \item Velocity - Average velocity of individual car or multiple cars
  \item Density - Amount of vehicles in for specified distance
  \item Headway - Spacing between vehicles
\end{itemize}

Additionally to the parameters above the traffic will be analysed in terms of amount of accidents.



\subsection{Modelling car behavior}

write about the model in sumo

write how it applied to both human and autonomous

write about possible models of car's behaviours

Inteligent driver model etc

gipps

\subsection{SUMO}

SUMO stands for Simulation of Urban MObility. It's an open source framework used for traffic simulation\citep{krajzewicz2002sumo}. SUMO was first introduced in 2002 and since then it became a popular tool for scientist as well as people involved in practical traffic planning tasks. 

SUMO is a purely microscopic simulation which means every traffic participant is modelled separately. The framework is designed to simulate large cities that contain thousands of roads and more than one million of vehicles.

The core of the SUMO package is a logical representation of road layout. Segments of roads separated by junctions are described as nodes and edges. Edges consist of directed lanes. Vehicle's position is described in terms of edge and lane number and distance from origin node. At every step of the simulation interaction between individual simulation entities are computed and all parameters updated. 
\citep{krajzewicz2002sumo}

SUMO is supported by additional pieces of software such as a tool for importing map structure and a plug-in for providing on-line inputs.

The applications of SUMO include designing traffic light sequence, predicting demands on planned roads or creating traffic control systems.  


It is a microscopic

It allows to account for multiple factors to create 

quick summary of sumo
	


\subsection{Communication between machines - maybe}




\subsection{Experiment design - real world research}






%\cite{parkin2016understanding}
%\parencite{parkin2016understanding}

\citet{parkin2016understanding}

\section{Research Methodology}

The main aim of the project was to look into interactions between autonomous and human-driven vehicles. The main method that was used to achieve this was to create a simulation of traffic with both types of traffic participants. By reviewing the literature it was found that there are numerous car-following models that could be used for the purpose of this simulation. However, no matter how good were these models, they could only work as approximation of how humans would actually control the cars. It was decided that differences between any of the reviewed car-following algorithms and actual human control are so significant that the study should rely on the experiment involving multiple human participants controlling cars in real-time simulation.
 
The decision to create such a simulation was a key factor influenced the shape to the whole project. 


The consequence of heaving an experiment that involves multiple participants was that the major effort was put into developing software that would allow to conduct the experiment.  



Creating such a simulation was the most significant factor accounting for the complexity of the project. 



This decision accounted for the most complexity 



Although there are numerous models of (some citation) cars 


Justify the structure of the project. Why the experiment was a key part. Why this was
the best option rather than for example use data from some database?...hmmm

\subsection{Experiment design}
The experiment was arguably the most important part of the project. All work done before was aimed at successful conductance of the experiment and all work done after was based on the data collected during the experiment. 


The experiment was planned to involve ten to twenty people. Each of them would sit in front of a computer where they could use the keyboard and observe the screen. They would be asked to control one of the vehicles in the simulation. On the screen they would see a top down view of their own vehicle and it's surrounding. By using the keyboard they would control the acceleration of their vehicle.
The instructions given would encourage them to explore the map and avoid collisions with other traffic participants.

The experiment was planned to consist of three main sessions and one learning session. Each session would feature different scenario which determines road layout, number of human-driven and number of autonomous cars. During learning session participants would learn(change this word) how to control the car, how car responds to their commands and what the environment looked like. 
After learning period the first phase would commence and second afterwards. Both phases would use identical map but the proportion of traditional cars to autonomous would change. The map shape would be an infinity-sign-like where vehicles would have to follow each other and there would be one intersection. It was assumed that such an approach would allow to measure macro parameters of the traffic as both phases would be comparable and the impact of autonomous vehicles could be extracted. The initial choice of measured parameters would include average velocity, density, flow and headway. 
The scenario in the third phase would use significantly more complex map. 

  


The maps used are described in greater detail in next chapter about different Scenarios.


Number of autonomous vehicles driving on the map was dependent on the number of people turning up for the experiment. Additionally map used for phase one and two could be scaled according to the total number of cars.



- say how the car was control - just briefly becouse that comes uo later in software design 


- say how crashes were handled


write all about the experiment that does not concern the backend of the design


The instructions given to experiment participants stated the following:

\begin{enumerate}
  \item Cover as long distance as possible
  \item Avoid collisions with other cars at all cost
  \item Use key described below to control the car
  \item when given a choice to turn at the intersection it's your decision which direction you want to go
  \item Listen to other instructions
\end{enumerate}



a screenshot from the client



\subsubsection{Client's interface}

justify all design decision for clients interface, position of car,
siplification of car shape,
car why client could see only that much
speed



\subsubsection{Scenarios}


say that all lanes are uni-directional

say how turning worked

say 


\subsection{Software development}

Creating application that allowed to successfully conduct the experiment was the longest and most absorbing part of the project. All decisions starting from the choice of programming environment, through deciding on the structure of the software to ensuring simulation reliability were dictated by the requirements of the experiment.



//write more intro to software







Justify all major design decisions

Justify all major design decisions. Plenty of them!
All the actions undertaken to ensure most meaningful results


\subsubsection{Environment choice}

Choosing the right environment to develop software was a key decision that had crucial impact on all components of the project. 

After a process of careful consideration it was decided to use MATLAB as a sole development environment for all parts of the project. 

The initial Project Proposal written by Eddie Wilson suggested using SUMO package as a core of the simulation. It was assumed that a small part of SUMO capabilities would be utilized in combinations with additional software written for the purpose of this project. SUMO features  Traffic Control Interface (TraCI) (\textit{link to website}) that gives access to running simulation. The parameters of the simulation like car's location could be potentially retrieved and manipulated in real-time. The additional software would be responsible for data exchange over the network, visualizing car's surrounding and capturing inputs from experiment participants. Most likely the programming language used for this part would be C++.


On the other hand, SUMO was intended for much larger simulations than the one planned. Vast majority of available features would not be used and could rather be a source of potential issues. 

A competing idea was to create a tailored application that would be inspired by the structure of SUMO but would be written from scratch. It would be implemented using C++ or MATLAB environment. The main benefit of this approach would be full control of the software behaviour. The main drawback would be rewriting algorithms and structure that already existed inside SUMO. 

In terms of subjective software preference MATLAB was considered most familiar and most error prone.  

Another key question that had large impact on the decision was how to establish reliable communication between machines. 
It was found that MATLAB supports at least three possible ways of communication that could be used in the project including User Datagram Protocol (UDP), Transmission Control Protocol (TCPIP) and Robot Operating System. This was the main reason why MATLAB was eventually chose for this project.
Details of the implementation of computer-to-computer communication are described in the chapter "Communication between machines"

\subsubsection{Software structure}


The software in the project consists of three  main parts. The most important one is Simulation Server Application. It is responsible for all data processing that is essential for the simulation. The second piece of software is Simulation Client Application. Each participant used an identical copy of Simulation Client Application to receive information about car's surroundings and send acceleration and direction orders to the server. Last part of the software is Communication Agent which was responsible for aggregating information from all clients and sending it to the server. It's existence was dictated by the requirements of network solution described in further chapters.



\subsubsection{Simulation Server Application design}
//change name of chapter title








\subsubsection{Client Application design}

here combined technical solutions 

General description Simplifications and yet still accounting for most important parts of
the car model

\subsubsection{Car control}

gipps graph here


\subsection{Communication between machines}

From one point of view this a tightly coupled with software development but the way
communication was established doesn’t matter from the point of view of software structure.
Simply speaking the comms should only meet some requirements derived from
the main piece of software and the details of implementation doesn’t matter. This was
a significant part of the job and its an achievement on its own.

\subsection{Autonomous car model}





Say why this is important from the point of view of results obtained. Again justify all
design decisions




\section{Findings and results}


\subsection{Experiment execution}
How the experiment was eventually conducted

\section{Discussion of results}


\section{Conclusions}







%\includegraphics*[100,100][300,300]{mypicture}

%\begin{figure}[H] % Example image
%\center{\includegraphics[width=0.5\linewidth]{placeholder}}
%\caption{Example image.}
%\label{fig:speciation}
%\end{figure}




%------------------------------------------------



%\begin{description} % Numbered list example

%\item[First] \hfill \\


%\item[Second] \hfill \\


%\item[Third] \hfill \\


%\end{description} 

%t

%----------------------------------------------------------------------------------------
%	CONCLUSION
%----------------------------------------------------------------------------------------



%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------


\bibliography{dissertation_citation_database}

%\printbibliography


%\begin{thebibliography}{99} % Bibliography - this is intentionally simple in this template

%\bibitem[Figueredo and Wolf, 2009]{Figueredo:2009dg}
%Figueredo, A.~J. and Wolf, P. S.~A. (2009).
%\newblock Assortative pairing and life history strategy - a cross-cultural
%  study.
%\newblock {\em Human Nature}, 20:317--330.
 
%\end{thebibliography}





%----------------------------------------------------------------------------------------

\end{document}